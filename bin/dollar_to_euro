#!/usr/bin/env ruby

require 'optparse'
require 'methadone'
require 'dollar_to_euro'
require 'date'

class App
  include Methadone::Main
  include Methadone::CLILogging

  main do |amount|
    # code for handling options goes here
  end

  options[:date] = Date.today.to_s
  options[:source] = 'http://sdw.ecb.europa.eu/quickviewexport.do?SERIES_KEY=120.EXR.D.USD.EUR.SP00.A&type=csv'

  description 'Convert dollars to euros.'

  arg :amount, [:required, 'Amount in dollars that you want to convert to euros.']
  on('-d DATE', '--date', 'Date for having the value of the euro at that specific day, format YYYY-MM-DD.')
  on('-s SOURCE', '--source', 'Source to CSV file with dollar values.')

  version DollarToEuro::VERSION, compact: true

  go!
end
